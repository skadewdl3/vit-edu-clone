---
import CourseLayout from '@layouts/CourseLayout.astro'
import { Image } from 'astro:assets'
const courseID = Astro.params.course_id

const res = await fetch(
  `${Astro.url.origin}/api/courses/details?courseID=${courseID}`,
  {
    headers: {
      'Content-Type': 'application/json',
    },
  },
)

let result = await res.json()
let {first_names, last_names, prefixes} = result.teachers
let course = result.course

let teacherNames = first_names.map((name, index) => {
  return `${prefixes[index] != null ? prefixes[index] + ' ' : ''}${name} ${
    last_names[index]}`
})

export const prerender = false
---

<CourseLayout courseName={'heheboi'}>
  
  <div slot="summary" class="text-blue-400 bg-red-400">
    {course.image && <Image src={course.image} alt={course.name + ' Cover Image'} width={800} height={800} />}
  </div>

  <div slot="intro">
    <h1 class="text-6xl font-bold">{course.name}</h1>
    <!-- <p>{course.description}</p> -->
  </div>
</CourseLayout>
